<!-- debut de head-->
<%- include('head'); -%>


<title>Ajout  d 'Agence || Super Kolima  Transfert</title>
  <!-- fin de head-->
  <style>
    #agencealert
    {
      position: fixed;
      top: 45%;
      left: 35%;
      z-index: 1000;
      display: none;
    }
  </style>
</head>
<script src="/assets/semantic/lib/jquery.validate.js"></script>
<script src="/assets/semantic/lib/moment.min.js"></script>

<script src="/assets/semantic/lib/html2pdf.bundle.min.js"></script>
<script src="/assets/semantic/js/jquery.formatCurrency.js" ></script>
<script src="/assets/semantic/js/easy-number-separator.js"></script>

<script src="/assets/semantic/lib/bootstrap/js/bootstrap.min.js"></script>

<!-- debut  de menue-->
<%- include('menue'); -%>
    <!--fin de menue end-->
    <!-- **********************************************************************************************************************************************************
        MAIN CONTENT
        *********************************************************************************************************************************************************** -->
    <!-- debut du body-->
    <section id="main-content">
      <section class="wrapper">
        <div class="row mt-5">
          <div id="agencealert" class="alert alert-success alert-dismissable">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
            <font _mstmutation="1"><strong _mstmutation="1">Succes !</strong> Félicitation , une agence a été ajouter.
          </font></div>
            <div class="col-lg-12">
              <h4><i class="fa fa-angle-right"></i> Ajout d'une Agence</h4>
              <div class="form-panel">
                <div class="form">
                  <form id="signupForm" class="cmxform form-horizontal style-form" id="signupForm" method="post" action="/Superadmin/creationagence">
                      <div class="row">
                    <div class="form-group col-md-4 col-md-offset-1">
                      <label for="numeroagence" class="control-label ">Numero de l'Agence :</label>
                    
                        <input class=" form-control" placeholder="Entrez le numero de l'agence" id="numeroagence" name="numeroagence" type="text">
                     
                    </div>
  
                    <div class="form-group col-md-4 col-md-offset-1 ">
                      <label for="nomagence" class="control-label ">Nom de l'agence</label>
                      
                        <input class=" form-control" placeholder="Entrez le nom de l'agence" id="nomagence" name="nomagence" type="text">
                     
                    </div>
                    <div class="form-group col-md-4 col-md-offset-1">
                      <label for="telephoneagence" class="control-label ">Telephone Agence</label>
                     
                        <input class="form-control " placeholder="Entrez le telephone de l'agence" id="telephoneagence" name="telephoneagence" type="tel">
                      
                    </div>
                    <div class="form-group col-md-4 col-md-offset-1">
                        <label for="emailagence" class="control-label ">Email de l'Agence</label>
                       
                          <input class="form-control " placeholder="Entrez l'email de l'agence" id="emailagence" name="emailagence" type="email">
                       
                      </div>
                    <div class="form-group  col-md-4 col-md-offset-1">
                      <label for="password" class="control-label ">Selectionnez le Pays</label>
                     
                        <% if(typeof lespays !== "undefined"){ %>
                          <select id="lespays"   class="form-control " name="paysagence">
                          
                            
                                    <% for(var i= 0 ; i < lespays.length; i++)  {%> 
                                    <option class="lepays" value="<%= lespays[i].idpays %>"><%= lespays[i].pays %></option>
                                      <% } %>
                                    
                               
                          </select>
                          <% } %>
                      
                    </div>
                    <div class="form-group col-md-4 col-md-offset-1">
                        <label for="villeagence" class="control-label ">Selectionnez la ville</label>
                       
                            <% if(typeof lesville !== "undefined"){ %>
                                <select  class="form-control " name="villeagence">
                                
                                  <option>Veuillez Selectionnez une ville</option>
                                          <% for(var i= 0 ; i < lesville.length; i++)  {%> 
                                          <option value="<%= lesville[i].idville %>"><%= lesville[i].ville %></option>
                                            <% } %>
                                          
                                     
                                </select>
                                <% } %>
                      
                      </div>
                    <div class="form-group col-md-4 col-md-offset-1">
                      <label for="zoneagence" class="control-label ">Zone</label>
                    
                        <input class="form-control " placeholder="Entrez la zone ou se trouve l'agence" id="zoneagence" name="zoneagence" type="text">
                      
                    </div>
                    <div class="form-group col-md-4 col-md-offset-1 ">
                      <label for="motdepasseagence" class="control-label ">Mot de passe</label>
                    
                      <input class="form-control " placeholder="Entrez le mot de passe" id="motdepasseagence" name="motdepasseagence" type="password">
                      
                    </div>
                  
  
                 
  
                   </div>
                   <hr>
                   <div class="row">
                    
                    <div class="form-group col-md-4 col-md-offset-1">
                      <div class="col-lg-offset-2 col-lg-9">
                        <button class="btn btn-success" type="submit">Enregistrer</button>
                        
                      </div>
                    </div>
                   </div>
                  </form>
                </div>
              </div>
              <!-- /form-panel -->
            </div>
            <!-- /col-lg-12 -->
          </div>
        <!-- /row -->
      </section>
    </section>
    <!--main content end-->
    
  </section>
  <!-- js placed at the end of the document so the pages load faster -->
  <script src="/assets/semantic/lib/jquery-1.9.1.js"></script>
  
  <script src="/assets/semantic/lib/jquery.validate.js"></script>
  <script>
 
  
    $().ready(function() {
      // validate the comment form when it is submitted
      jQuery.validator.addMethod("phoneGuinee", function (phone_number, element) {
        phone_number = phone_number.replace(/\s+/g, "");
        return this.optional(element) || phone_number.length >= 9 && phone_number.match(/^6[1,2,5,6]{1}[0-9]{7}$/);
    }, "Veuillez Entrez le bon format de Numero");
      // validate signup form on keyup and submit
      $("#signupForm").validate({
        rules: {
            numeroagence: {
            required: true,
            minlength: 2
          },
          nomagence: {
            required: true,
            minlength: 2
          },
          motdepasseagence: {
            required: true,
            minlength: 5
          },
          emailagence: {
            required: true,
            email: true
          },
          zoneagence: {
            required: true,
            minlength: 4
          },
          telephoneagence: {
                    required: true
                },
         villeagence: {
                    required: true
                },
        },
        messages: {
            numeroagence: {
            required: "Veuillez renseigner un numero d 'agence ",
            minlength: "Votre numero d'agence  doit être composé d'au moins 2 caractères"
          },
          nomagence: {
            required: "Veuillez renseigner un nom d 'agence ",
            minlength: "Votre nom d'agence  doit être composé d'au moins 2 caractères"
          },
          motdepasseagence: {
            required: "Veuillez fournir un mot de passe",
            minlength: "Votre mot de passe doit comporter au moins 5 caractères"
          },
          emailagence: {
            required: "veuillez renseigner une  adresse email ",
            email: "S'il vous plaît, mettez une adresse email valide"
          },
          zoneagence: {
            required: "Veuillez renseigner la zone",
            minlength: "Votre nom de zone doit comporter au moins 5 nombre"
          },
          telephoneagence: {
            required: "Veuillez fournir un numéro de téléphone de l'agence"
          },
          villeagence: {
            required: "Veuillez renseigner la ville"
          },
        },
        submitHandler: function(form){
     
$.ajax({
    url: form.action,
    type: form.method,
    data: $(form).serialize(),
    success: function(response) {
     
         if (response.newagence) {  
                 $("#agencealert").css({ 
                      display: 'block'
                    });
                    setTimeout(function () {
                    
                  window.location.href = "/Superadmin/AjoutAgence"
                  }, 5000);
         
                 }  
                  
        
        
                   }            
      });       
}


      });
  
  
      //code to hide topic selection, disable for demo
      var newsletter = $("#newsletter");
      // newsletter topics are optional, hide at first
      var inital = newsletter.is(":checked");
      var topics = $("#newsletter_topics")[inital ? "removeClass" : "addClass"]("gray");
      var topicInputs = topics.find("input").attr("disabled", !inital);
      // show when newsletter is checked
      newsletter.click(function() {
        topics[this.checked ? "removeClass" : "addClass"]("gray");
        topicInputs.attr("disabled", !this.checked);
      });
  // Recuperer la liste d'unne ville correspondant a un pays 
  
 


    });
    </script>
  <script>
    
  $(document).ready(function(){
    var pays = document.querySelectorAll("#lepays");


$(pays).each(function() {

$(this).on('click', function(e){

  e.preventDefault();
  alert("uy  ii")

})


})

  })
  $($("#lespays").children()).each(function() {

    $(this).click(function() {
           
           alert('yjj idoo')
               });
         


})

  </script>
   <script class="include" type="text/javascript" src="/assets/semantic/lib/jquery.dcjqaccordion.2.7.js"></script>
   <script src="/assets/semantic/lib/jquery.scrollTo.min.js"></script>
   <script src="/assets/semantic/lib/jquery.nicescroll.js" type="text/javascript"></script>
   <script src="/assets/semantic/lib/jquery.sparkline.js"></script>
   <!--common script for all pages-->
   <script src="/assets/semantic/lib/common-scripts.js"></script>
   <script type="text/javascript" src="/assets/semantic/lib/gritter/js/jquery.gritter.js"></script>
   <script type="text/javascript" src="/assets/semantic/lib/gritter-conf.js"></script>
   <!--script for this page-->
   
   
   
  
  
</body>

</html>
